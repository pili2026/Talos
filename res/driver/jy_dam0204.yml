model: "JY_DAM0204"
type: "io_module"

# Default register_type (pin-level to cover it)
register_type: discrete_input

capabilities:
  supports_on_off: false
  on_off_binding:
    targets: ["DOut01", "DOut02"]
    on: 1
    off: 0

register_map:
  # ==================== Digital Inputs ====================
  # Using pin-level's register_type to cover the difference
  
  DIn01:
    offset: 0
    register_type: discrete_input    # ← Pin-level override
    readable: true
    writable: false
    format: u16
    description: "Digital Input 1"
    unit: ""
  
  DIn02:
    offset: 1
    register_type: discrete_input
    readable: true
    writable: false
    format: u16
    description: "Digital Input 2"
    unit: ""
  
  DIn03:
    offset: 2
    register_type: discrete_input
    readable: true
    writable: false
    format: u16
    description: "Digital Input 3"
    unit: ""
  
  DIn04:
    offset: 3
    register_type: discrete_input
    readable: true
    writable: false
    format: u16
    description: "Digital Input 4"
    unit: ""
  
  # ==================== Digital Outputs ====================
  
  DOut01:
    offset: 0
    register_type: coil              # ← Pin-level override
    readable: true
    writable: true
    format: u16
    description: "Digital Output 1 / Relay 1"
    unit: ""
    notes: "10A/30VDC or 10A/250VAC"
  
  DOut02:
    offset: 1
    register_type: coil
    readable: true
    writable: true
    format: u16
    description: "Digital Output 2 / Relay 2"
    unit: ""
    notes: "10A/30VDC or 10A/250VAC"