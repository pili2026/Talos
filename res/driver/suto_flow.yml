model: SUTO_FLOW
register_type: holding
type: sensor
log_mode: decoded

description: >
  Simulates a flowmeter device supporting:
  - Instantaneous flow rate (float32)
  - Forward/reverse cumulative flow (uint32)
  - Flow direction (-1: reverse, 1: forward)

register_map:
  FLOW_VALUE:          { offset: 6, type: flow, unit: "m³/h", readable: true, format: f32_be, formula: [0, 1.0, 0] }
  FLOW_CONSUMPTION:    { offset: 8, type: counter, readable: true, format: u32_le, description: "Forward total flow (m³)" }
  FLOW_REVCONSUMPTION: { offset: 14, type: counter, readable: true, format: u32_le, description: "Reverse total flow (m³)" }
  FLOW_DIRECTION:      { offset: 42, type: direction, readable: true, format: i16, description: "-1 = reverse, 1 = forward" }
