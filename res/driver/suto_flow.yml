model: SUTO_FLOW
register_type: holding
type: io_module
log_mode: decoded

description: >
  Simulates a flowmeter device supporting:
  - Instantaneous flow rate (float32)
  - Forward/reverse cumulative flow (uint32)
  - Flow direction (-1: reverse, 1: forward)

register_map:
  FLOW_VALUE:
    offset: 6
    type: flow
    unit: "m³/h"
    readable: true
    format: float32       # stored across two registers
    formula: [0, 1.0, 0]  # No scaling needed

  FLOW_CONSUMPTION:
    offset: 8
    type: counter
    readable: true
    format: uint32        # 2 registers
    description: "Forward total flow (m³)"

  FLOW_REVCONSUMPTION:
    offset: 14
    type: counter
    readable: true
    format: uint32
    description: "Reverse total flow (m³)"

  FLOW_DIRECTION:
    offset: 42
    type: direction
    readable: true
    format: int16       # -1 or 1
    description: "-1 = reverse, 1 = forward"
