version: 1.0.0
SD400:
  default_controls: []
  instances:
    '3':
      use_default_controls: false
      controls:
        - name: High Temperature Set Frequency
          code: HIGH_TEMP_FREQ
          priority: 80
          composite:
            any:
              - type: threshold
                source: AIn01
                operator: gt
                threshold: 40
                hysteresis: 1
                debounce_sec: 0.5
              - type: threshold
                source: AIn03
                operator: between
                min: 3
                max: 5
                hysteresis: 0.2
          policy:
            type: discrete_setpoint
          action:
            model: TECO_VFD
            slave_id: '2'
            type: set_frequency
            target: RW_HZ
            value: 45
        - name: High Temperature Turn On DOut01
          code: HIGH_TEMP_DO01_ON
          priority: 85
          composite:
            any:
              - type: threshold
                source: AIn01
                operator: gt
                threshold: 40
          action:
            model: IMA_C
            slave_id: '5'
            type: write_do
            target: DOut01
            value: 1
        - name: Low Temperature Turn Off DOut02
          code: LOW_TEMP_DO02_OFF
          priority: 90
          composite:
            any:
              - type: threshold
                source: AIn01
                operator: lt
                threshold: 25
          action:
            model: IMA_C
            slave_id: '5'
            type: write_do
            target: DOut02
            value: 0
        - name: Low Temperature Turn Off Inverter
          code: LOW_TEMP_VFD_OFF
          priority: 95
          composite:
            any:
              - type: threshold
                source: AIn01
                operator: lt
                threshold: 25
          action:
            model: TECO_VFD
            slave_id: '1'
            type: turn_off
            target: RW_ON_OFF
        - name: HIGH Temperature Turn On Inverter
          code: HIGH_TEMP_VFD_ON
          priority: 75
          composite:
            any:
              - type: threshold
                source: AIn01
                operator: gt
                threshold: 40
                hysteresis: 1
                debounce_sec: 0.5
          policy:
            type: discrete_setpoint
          action:
            model: TECO_VFD
            slave_id: '1'
            type: turn_on
            target: RW_ON_OFF
        - name: Environment Temperature Linear Control
          code: LIN_ABS01
          priority: 85
          composite:
            any:
              - type: threshold
                source: AIn01
                operator: gt
                threshold: 25
                abs: false
          policy:
            type: absolute_linear
            condition_type: threshold
            source: AIn01
            base_freq: 40
            base_temp: 25
            gain_hz_per_unit: 1.2
          action:
            model: TECO_VFD
            slave_id: '2'
            type: set_frequency
            target: RW_HZ
        - name: Supply-Return Temperature Difference Control
          code: LIN_INC01
          priority: 90
          composite:
            any:
              - type: difference
                sources:
                  - AIn01
                  - AIn02
                operator: gt
                threshold: 4
                abs: false
              - type: difference
                sources:
                  - AIn01
                  - AIn02
                operator: lt
                threshold: -4
                abs: false
          policy:
            type: incremental_linear
            condition_type: difference
            sources:
              - AIn01
              - AIn02
            gain_hz_per_unit: 1.5
          action:
            model: TECO_VFD
            slave_id: '2'
            type: adjust_frequency
            target: RW_HZ
