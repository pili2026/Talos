# Per-device instance override template.
#
# Purpose:
# - Provide per-model defaults (initialization / constraints / pins metadata baseline)
# - Provide per-slave overrides (constraints / pins delta overrides)
#
# Override semantics (pins):
# - If a field is provided in instance.pins.<PIN>, it overrides model-level pins.<PIN>.
# - If a field is omitted, it falls back to model-level pins.<PIN> (if present).
# - Driver YAML remains "hardware mapping"; instance config is "site semantics".

global_defaults:
  initialization:
    # legacy: [Hvac] InitialHz = 50
    startup_frequency: 50.0

# -------------------------------------------------------------------
# Inverters
# -------------------------------------------------------------------
LITEON_EVO6800:
  default_constraints:
    RW_HZ: { min: 30, max: 55 }
  instances:
    "1":
      initialization:
        startup_frequency: 52.0
      constraints:
        RW_HZ: { min: 50, max: 57 }

TECO_VFD:
  initialization:
    startup_frequency: 50.0
    auto_turn_on: true

  # Keep default wide; per-instance constraints override it.
  default_constraints:
    RW_HZ: { min: 35, max: 60 }

  instances:
    "1": { constraints: { RW_HZ: { min: 52, max: 56 } } }
    "2": {}
    "3": {}
    "4": {}
    "5": { constraints: { RW_HZ: { min: 56, max: 58 } } }
    "6": {}
    "7": {}
    "8": {}
    "9":  { constraints: { RW_HZ: { min: 58, max: 60 } } }
    "10": {}
    "11": {}
    "12": {}

# -------------------------------------------------------------------
# AI Module - BAT08 (Scheme A: model baseline pins + instance delta)
# -------------------------------------------------------------------
BAT08:
  default_constraints: {}

  instances:
    "16": {}

    "17":
      pins:
        AIn01: { formula: [0, 0.01220703125, -1.5] }
        AIn02: { formula: [0, 0.01220703125, -1.4] }
        AIn04: { formula: [0, 0.01220703125, 3] }
        AIn05: { formula: [0, 0.01220703125, 1] }

    "19":
      pins:
        AIn01: { formula: [0, 0.01220703125, -1] }
        AIn02: { formula: [0, 0.01220703125, -1] }

    "20":
      pins:
        AIn01: { formula: [0, 0.01220703125, -1.4] }
        AIn02: { formula: [0, 0.01220703125, -1.0] }
        AIn04: { formula: [0, 0.01220703125, -1.0] }
        AIn05: { formula: [0, 0.01220703125, -1.0] }

ADAM-4117:
  default_constraints: {}

  instances:
    "22": {}
    "23": {}
    "24": {}
    "25": {}
  
SD4000:
  default_constraints: {}

  instances:
    "26": {}
    "27": {}
    "28": {}
    "29": {}

# -------------------------------------------------------------------
# IO Module - JY_DAM0404 (Room semantics via pins metadata)
# Notes:
# - Driver defines DI/DO mapping (offset/register_type).
# - Instance config defines semantic labels (e.g., MC1/Alert).
# - DI is 0/1 so formula is usually unnecessary; keep it simple.
# -------------------------------------------------------------------
JY_DAM0404:
  default_constraints: {}

  instances:
    "18":
      pins:
        DIn01: { remark: "MC1" }
        DIn02: { remark: "Alert" }
        DIn03: { remark: "MC2" }
        DIn04: { remark: "Alert" }

    "21":
      pins:
        DIn01: { remark: "MC1" }
        DIn02: { remark: "Alert" }
        DIn03: { remark: "MC2" }
        DIn04: { remark: "Alert" }

# ------------------------------------------------------------
# DI Module - SD500 (room3_pin.config)
# Only instance overrides; baseline mapping stays in driver/sd_500.yml
# ------------------------------------------------------------
SD500:
  default_constraints: {}

  instances:
    "13":
      pins:
        DIn01: { remark: "MC1" }
        DIn02: { remark: "Alert" }
        DIn03: { remark: "MC2" }
        DIn04: { remark: "Alert" }

    "14":
      pins:
        DIn01: { remark: "MC1" }
        DIn02: { remark: "Alert" }
        DIn03: { remark: "MC2" }
        DIn04: { remark: "Alert" }

    "15":
      pins:
        DIn01: { remark: "MC1" }
        DIn02: { remark: "Alert" }
        DIn03: { remark: "MC2" }
        DIn04: { remark: "Alert" }
